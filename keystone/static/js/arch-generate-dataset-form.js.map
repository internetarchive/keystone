{"version":3,"file":"arch-generate-dataset-form.js","sources":["../../../web-components/node_modules/@spectrum-web-components/icon/sp-icon.js","../../../web-components/node_modules/@lit-labs/observers/intersection-controller.js","../../../web-components/node_modules/@spectrum-web-components/reactive-controllers/src/FocusGroup.js","../../../web-components/node_modules/@spectrum-web-components/reactive-controllers/src/RovingTabindex.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/tabs.css.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/tabs-sizes.css.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/Tabs.js","../../../web-components/node_modules/@spectrum-web-components/tabs/sp-tabs.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/tab.css.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/Tab.js","../../../web-components/node_modules/@spectrum-web-components/tabs/sp-tab.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/tab-panel.css.js","../../../web-components/node_modules/@spectrum-web-components/tabs/src/TabPanel.js","../../../web-components/node_modules/@spectrum-web-components/tabs/sp-tab-panel.js","../../../../../web-components/src/archJobParametersForm/src/styles.ts","../../../../../web-components/src/archJobParametersForm/src/arch-job-parameters-form.ts","../../../../../web-components/src/archGenerateDatasetForm/src/arch-job-card-styles.ts","../../../../../web-components/src/archGenerateDatasetForm/src/arch-job-button.ts","../../../../../web-components/src/archGenerateDatasetForm/src/arch-job-card.ts","../../../../../web-components/src/archGenerateDatasetForm/src/styles.ts","../../../../../web-components/src/archGenerateDatasetForm/src/arch-job-category-section.ts","../../../../../web-components/src/archGenerateDatasetForm/src/arch-generate-dataset-form.ts"],"sourcesContent":["\"use strict\";import{Icon as e}from\"./src/Icon.js\";import{defineElement as o}from\"@spectrum-web-components/base/src/define-element.js\";o(\"sp-icon\",e);\n//# sourceMappingURL=sp-icon.js.map\n","class t{constructor(t,{target:s,config:i,callback:h,skipInitial:e}){this.t=new Set,this.o=!1,this.i=!1,this.h=t,null!==s&&this.t.add(s??t),this.o=e??this.o,this.callback=h,window.IntersectionObserver?(this.u=new IntersectionObserver((t=>{const s=this.i;this.i=!1,this.o&&s||(this.handleChanges(t),this.h.requestUpdate())}),i),t.addController(this)):console.warn(\"IntersectionController error: browser does not support IntersectionObserver.\")}handleChanges(t){this.value=this.callback?.(t,this.u)}hostConnected(){for(const t of this.t)this.observe(t)}hostDisconnected(){this.disconnect()}async hostUpdated(){const t=this.u.takeRecords();t.length&&this.handleChanges(t)}observe(t){this.t.add(t),this.u.observe(t),this.i=!0}unobserve(t){this.t.delete(t),this.u.unobserve(t)}disconnect(){this.u.disconnect()}}export{t as IntersectionController};\n//# sourceMappingURL=intersection-controller.js.map\n","\"use strict\";function r(i,e,t){return typeof i===e?()=>i:typeof i==\"function\"?i:t}export class FocusGroupController{constructor(e,{direction:t,elementEnterAction:n,elements:s,focusInIndex:o,isFocusableElement:h,listenerScope:c}={elements:()=>[]}){this._currentIndex=-1;this._direction=()=>\"both\";this.directionLength=5;this.elementEnterAction=e=>{};this._focused=!1;this._focusInIndex=e=>0;this.isFocusableElement=e=>!0;this._listenerScope=()=>this.host;this.offset=0;this.recentlyConnected=!1;this.handleFocusin=e=>{if(!this.isEventWithinListenerScope(e))return;this.isRelatedTargetAnElement(e)&&this.hostContainsFocus();const t=e.composedPath();let n=-1;t.find(s=>(n=this.elements.indexOf(s),n!==-1)),this.currentIndex=n>-1?n:this.currentIndex};this.handleFocusout=e=>{this.isRelatedTargetAnElement(e)&&this.hostNoLongerContainsFocus()};this.handleKeydown=e=>{if(!this.acceptsEventCode(e.code)||e.defaultPrevented)return;let t=0;switch(e.code){case\"ArrowRight\":t+=1;break;case\"ArrowDown\":t+=this.direction===\"grid\"?this.directionLength:1;break;case\"ArrowLeft\":t-=1;break;case\"ArrowUp\":t-=this.direction===\"grid\"?this.directionLength:1;break;case\"End\":this.currentIndex=0,t-=1;break;case\"Home\":this.currentIndex=this.elements.length-1,t+=1;break}e.preventDefault(),this.direction===\"grid\"&&this.currentIndex+t<0?this.currentIndex=0:this.direction===\"grid\"&&this.currentIndex+t>this.elements.length-1?this.currentIndex=this.elements.length-1:this.setCurrentIndexCircularly(t),this.elementEnterAction(this.elements[this.currentIndex]),this.focus()};this.mutationObserver=new MutationObserver(()=>{this.handleItemMutation()}),this.host=e,this.host.addController(this),this._elements=s,this.isFocusableElement=h||this.isFocusableElement,this._direction=r(t,\"string\",this._direction),this.elementEnterAction=n||this.elementEnterAction,this._focusInIndex=r(o,\"number\",this._focusInIndex),this._listenerScope=r(c,\"object\",this._listenerScope)}get currentIndex(){return this._currentIndex===-1&&(this._currentIndex=this.focusInIndex),this._currentIndex-this.offset}set currentIndex(e){this._currentIndex=e+this.offset}get direction(){return this._direction()}get elements(){return this.cachedElements||(this.cachedElements=this._elements()),this.cachedElements}set focused(e){e!==this.focused&&(this._focused=e)}get focused(){return this._focused}get focusInElement(){return this.elements[this.focusInIndex]}get focusInIndex(){return this._focusInIndex(this.elements)}isEventWithinListenerScope(e){return this._listenerScope()===this.host?!0:e.composedPath().includes(this._listenerScope())}handleItemMutation(){if(this._currentIndex==-1||this.elements.length<=this._elements().length)return;const e=this.elements[this.currentIndex];if(this.clearElementCache(),this.elements.includes(e))return;const t=this.currentIndex!==this.elements.length,n=t?1:-1;t&&this.setCurrentIndexCircularly(-1),this.setCurrentIndexCircularly(n),this.focus()}update({elements:e}={elements:()=>[]}){this.unmanage(),this._elements=e,this.clearElementCache(),this.manage()}focus(e){const t=this.elements;if(!t.length)return;let n=t[this.currentIndex];(!n||!this.isFocusableElement(n))&&(this.setCurrentIndexCircularly(1),n=t[this.currentIndex]),n&&this.isFocusableElement(n)&&n.focus(e)}clearElementCache(e=0){this.mutationObserver.disconnect(),delete this.cachedElements,this.offset=e,requestAnimationFrame(()=>{this.elements.forEach(t=>{this.mutationObserver.observe(t,{attributes:!0})})})}setCurrentIndexCircularly(e){const{length:t}=this.elements;let n=t,s=(t+this.currentIndex+e)%t;for(;n&&this.elements[s]&&!this.isFocusableElement(this.elements[s]);)s=(t+s+e)%t,n-=1;this.currentIndex=s}hostContainsFocus(){this.host.addEventListener(\"focusout\",this.handleFocusout),this.host.addEventListener(\"keydown\",this.handleKeydown),this.focused=!0}hostNoLongerContainsFocus(){this.host.addEventListener(\"focusin\",this.handleFocusin),this.host.removeEventListener(\"focusout\",this.handleFocusout),this.host.removeEventListener(\"keydown\",this.handleKeydown),this.focused=!1}isRelatedTargetAnElement(e){const t=e.relatedTarget;return!this.elements.includes(t)}acceptsEventCode(e){if(e===\"End\"||e===\"Home\")return!0;switch(this.direction){case\"horizontal\":return e===\"ArrowLeft\"||e===\"ArrowRight\";case\"vertical\":return e===\"ArrowUp\"||e===\"ArrowDown\";case\"both\":case\"grid\":return e.startsWith(\"Arrow\")}}manage(){this.addEventListeners()}unmanage(){this.removeEventListeners()}addEventListeners(){this.host.addEventListener(\"focusin\",this.handleFocusin)}removeEventListeners(){this.host.removeEventListener(\"focusin\",this.handleFocusin),this.host.removeEventListener(\"focusout\",this.handleFocusout),this.host.removeEventListener(\"keydown\",this.handleKeydown)}hostConnected(){this.recentlyConnected=!0,this.addEventListeners()}hostDisconnected(){this.mutationObserver.disconnect(),this.removeEventListeners()}hostUpdated(){this.recentlyConnected&&(this.recentlyConnected=!1,this.elements.forEach(e=>{this.mutationObserver.observe(e,{attributes:!0})}))}}\n//# sourceMappingURL=FocusGroup.js.map\n","\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:t,removeTabIndex:s}=e(a);if(!s){a.tabIndex=t;return}a.removeAttribute(\"tabindex\");const n=a;n.requestUpdate&&n.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n","\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const o=t`\n    #list{--spectrum-tabs-item-height:var(--spectrum-tab-item-height-medium);--spectrum-tabs-item-horizontal-spacing:var(--spectrum-tab-item-to-tab-item-horizontal-medium);--spectrum-tabs-item-vertical-spacing:var(--spectrum-tab-item-to-tab-item-vertical-medium);--spectrum-tabs-start-to-edge:var(--spectrum-tab-item-start-to-edge-medium);--spectrum-tabs-top-to-text:var(--spectrum-tab-item-top-to-text-medium);--spectrum-tabs-bottom-to-text:var(--spectrum-tab-item-bottom-to-text-medium);--spectrum-tabs-icon-size:var(--spectrum-workflow-icon-size-75);--spectrum-tabs-icon-to-text:var(--spectrum-text-to-visual-100);--spectrum-tabs-top-to-icon:var(--spectrum-tab-item-top-to-workflow-icon-medium);--spectrum-tabs-color:var(--spectrum-neutral-subdued-content-color-default);--spectrum-tabs-color-selected:var(--spectrum-neutral-subdued-content-color-down);--spectrum-tabs-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-tabs-color-key-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-tabs-color-disabled:var(--spectrum-gray-500);--spectrum-tabs-font-family:var(--spectrum-sans-font-family-stack);--spectrum-tabs-font-style:var(--spectrum-default-font-style);--spectrum-tabs-font-size:var(--spectrum-font-size-100);--spectrum-tabs-line-height:var(--spectrum-line-height-100);--spectrum-tabs-focus-indicator-width:var(--spectrum-focus-indicator-thickness);--spectrum-tabs-focus-indicator-border-radius:var(--spectrum-corner-radius-100);--spectrum-tabs-focus-indicator-gap:var(--spectrum-tab-item-focus-indicator-gap-medium);--spectrum-tabs-focus-indicator-color:var(--spectrum-focus-indicator-color);--spectrum-tabs-selection-indicator-color:var(--spectrum-neutral-subdued-content-color-down);--spectrum-tabs-list-background-direction:top;--spectrum-tabs-divider-background-color:var(--spectrum-gray-300);--spectrum-tabs-divider-size:var(--spectrum-border-width-200);--spectrum-tabs-divider-border-radius:1px;--spectrum-tabs-animation-duration:var(--spectrum-animation-duration-100);--spectrum-tabs-animation-ease:var(--spectrum-animation-ease-in-out)}:host([emphasized]) #list{--mod-tabs-color-selected:var(--mod-tabs-color-selected-emphasized,var(--spectrum-accent-content-color-default));--mod-tabs-color-hover:var(--mod-tabs-color-hover-emphasized,var(--spectrum-accent-content-color-hover));--mod-tabs-color-key-focus:var(--mod-tabs-color-key-focus-emphasized,var(--spectrum-accent-content-color-key-focus));--mod-tabs-selection-indicator-color:var(--mod-tabs-selection-indicator-color-emphasized,var(--spectrum-accent-content-color-default))}:host([direction^=vertical]) #list{--mod-tabs-list-background-direction:var(--mod-tabs-list-background-direction-vertical,right)}:host([direction^=vertical-right]) #list{--mod-tabs-list-background-direction:var(--mod-tabs-list-background-direction-vertical-right,left)}:host([dir=rtl][direction^=vertical]) #list{--mod-tabs-list-background-direction:var(--mod-tabs-list-background-direction-vertical,left)}:host([dir=rtl][direction^=vertical-right]) #list{--mod-tabs-list-background-direction:var(--mod-tabs-list-background-direction-vertical,right)}:host([compact]) #list{--mod-tabs-item-height:var(--mod-tabs-item-height-compact,var(--spectrum-tab-item-compact-height-medium));--mod-tabs-top-to-text:var(--mod-tabs-top-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-medium));--mod-tabs-bottom-to-text:var(--mod-tabs-bottom-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-medium));--mod-tabs-top-to-icon:var(--mod-tabs-top-to-icon-compact,var(--spectrum-tab-item-top-to-workflow-icon-compact-medium))}#list{z-index:0;vertical-align:top;background:linear-gradient(to var(--mod-tabs-list-background-direction,var(--spectrum-tabs-list-background-direction)),var(--highcontrast-tabs-divider-background-color,var(--mod-tabs-divider-background-color,var(--spectrum-tabs-divider-background-color)))0 var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size)),transparent var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size)));margin:0;padding-block:0;display:flex;position:relative}::slotted([selected]:not([slot])){color:var(--highcontrast-tabs-color-selected,var(--mod-tabs-color-selected,var(--spectrum-tabs-color-selected)))}::slotted([disabled]:not([slot])){cursor:default;color:var(--highcontrast-tabs-color-disabled,var(--mod-tabs-color-disabled,var(--spectrum-tabs-color-disabled)))}#selection-indicator{background-color:var(--highcontrast-tabs-selection-indicator-color,var(--mod-tabs-selection-indicator-color,var(--spectrum-tabs-selection-indicator-color)));z-index:0;transition:transform var(--mod-tabs-animation-duration,var(--spectrum-tabs-animation-duration))var(--mod-tabs-animation-ease,var(--spectrum-tabs-animation-ease));transform-origin:0 0;border-radius:var(--mod-tabs-divider-border-radius,var(--spectrum-tabs-divider-border-radius));position:absolute;inset-inline-start:0}:host([direction^=horizontal]) #list{align-items:center}:host([direction^=horizontal]) #list ::slotted(:not([slot])){vertical-align:top}:host([direction^=horizontal]) #list ::slotted(:not([slot]):not(:first-child)){margin-inline-start:var(--mod-tabs-item-horizontal-spacing,var(--spectrum-tabs-item-horizontal-spacing))}:host([direction^=horizontal]) #list #selection-indicator{block-size:var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size));position:absolute;inset-block-end:0}:host([direction^=horizontal][compact]) #list{box-sizing:content-box;align-items:end}:host([quiet]) #list{background:0 0;border-color:#0000;display:inline-flex}:host([quiet]) #selection-indicator{padding-inline-start:var(--mod-tabs-start-to-item-quiet,var(--spectrum-tabs-start-to-item-quiet))}:host([direction^=vertical]) #list,:host([direction^=vertical-right]) #list{flex-direction:column;padding:0;display:inline-flex}:host([direction^=vertical][quiet]) #list,:host([direction^=vertical-right][quiet]) #list{border-color:#0000}:host([direction^=vertical]) #list ::slotted(:not([slot])),:host([direction^=vertical-right]) #list ::slotted(:not([slot])){block-size:var(--mod-tabs-item-height,var(--spectrum-tabs-item-height));line-height:var(--mod-tabs-item-height,var(--spectrum-tabs-item-height));margin-block-end:var(--mod-tabs-item-vertical-spacing,var(--spectrum-tabs-item-vertical-spacing));margin-inline-start:var(--mod-tabs-start-to-edge,var(--spectrum-tabs-start-to-edge));margin-inline-end:var(--mod-tabs-start-to-edge,var(--spectrum-tabs-start-to-edge));padding-block:0}:host([direction^=vertical]) #list ::slotted(:not([slot])):before,:host([direction^=vertical-right]) #list ::slotted(:not([slot])):before{inset-inline-start:calc(var(--mod-tabs-focus-indicator-gap,var(--spectrum-tabs-focus-indicator-gap))*-1)}:host([direction^=vertical]) #list #selection-indicator,:host([direction^=vertical-right]) #list #selection-indicator{inline-size:var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size));position:absolute;inset-block-start:0;inset-inline-start:0}:host([direction^=vertical-right]) #list #selection-indicator{inset-inline:auto 0}@media (forced-colors:active){#list{--highcontrast-tabs-divider-background-color:var(--spectrum-gray-500);--highcontrast-tabs-selection-indicator-color:Highlight;--highcontrast-tabs-focus-indicator-color:CanvasText;--highcontrast-tabs-focus-indicator-background-color:Highlight;--highcontrast-tabs-color:ButtonText;--highcontrast-tabs-color-hover:ButtonText;--highcontrast-tabs-color-selected:HighlightText;--highcontrast-tabs-color-key-focus:ButtonText;--highcontrast-tabs-color-disabled:GrayText;forced-color-adjust:none}#list ::slotted([selected]:not([slot])):before{background-color:var(--highcontrast-tabs-focus-indicator-background-color)}:host([direction^=vertical][compact]) #list #list ::slotted(:not([slot])):before{block-size:100%;inset-block-start:0}:host([quiet]) #list{background:linear-gradient(to var(--mod-tabs-list-background-direction,var(--spectrum-tabs-list-background-direction)),var(--highcontrast-tabs-divider-background-color,var(--mod-tabs-divider-background-color,var(--spectrum-tabs-divider-background-color)))0 var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size)),transparent var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size)))}}#list{--spectrum-tabs-font-weight:var(--system-spectrum-tabs-font-weight)}:host{grid-template-columns:100%;display:grid;position:relative}:host(:not([direction^=vertical])){grid-template-rows:auto 1fr}:host([direction^=vertical]){grid-template-columns:auto 1fr}:host([dir=rtl]) #selection-indicator{left:0;right:auto}:host([direction=vertical-right]) #list #selection-indicator{inset-inline:auto 0}#list{justify-content:var(--swc-tabs-list-justify-content)}:host([disabled]) #list{pointer-events:none}:host([disabled]) #list #selection-indicator{background-color:var(--mod-tabs-color-disabled,var(--spectrum-tabs-color-disabled))}:host([disabled]) ::slotted(sp-tab){color:var(--mod-tabs-color-disabled,var(--spectrum-tabs-color-disabled))}:host([direction=vertical-right]) #list #selection-indicator,:host([direction=vertical]) #list #selection-indicator{inset-block-start:0}#selection-indicator.first-position{transition:none}:host([dir][direction=horizontal]) #list.scroll{scrollbar-width:none;overflow:auto hidden}:host([dir][direction=horizontal]) #list.scroll::-webkit-scrollbar{display:none}\n`;export default o;\n//# sourceMappingURL=tabs.css.js.map\n","\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const a=t`\n    :host([size=s]) #list{--spectrum-tabs-item-height:var(--spectrum-tab-item-height-small);--spectrum-tabs-item-horizontal-spacing:var(--spectrum-tab-item-to-tab-item-horizontal-small);--spectrum-tabs-item-vertical-spacing:var(--spectrum-tab-item-to-tab-item-vertical-small);--spectrum-tabs-start-to-edge:var(--spectrum-tab-item-start-to-edge-small);--spectrum-tabs-top-to-text:var(--spectrum-tab-item-top-to-text-small);--spectrum-tabs-bottom-to-text:var(--spectrum-tab-item-bottom-to-text-small);--spectrum-tabs-icon-size:var(--spectrum-workflow-icon-size-50);--spectrum-tabs-icon-to-text:var(--spectrum-text-to-visual-75);--spectrum-tabs-top-to-icon:var(--spectrum-tab-item-top-to-workflow-icon-small);--spectrum-tabs-focus-indicator-gap:var(--spectrum-tab-item-focus-indicator-gap-small);--spectrum-tabs-font-size:var(--spectrum-font-size-75)}:host([size=l]) #list{--spectrum-tabs-item-height:var(--spectrum-tab-item-height-large);--spectrum-tabs-item-horizontal-spacing:var(--spectrum-tab-item-to-tab-item-horizontal-large);--spectrum-tabs-item-vertical-spacing:var(--spectrum-tab-item-to-tab-item-vertical-large);--spectrum-tabs-start-to-edge:var(--spectrum-tab-item-start-to-edge-large);--spectrum-tabs-top-to-text:var(--spectrum-tab-item-top-to-text-large);--spectrum-tabs-bottom-to-text:var(--spectrum-tab-item-bottom-to-text-large);--spectrum-tabs-icon-size:var(--spectrum-workflow-icon-size-100);--spectrum-tabs-icon-to-text:var(--spectrum-text-to-visual-200);--spectrum-tabs-top-to-icon:var(--spectrum-tab-item-top-to-workflow-icon-large);--spectrum-tabs-focus-indicator-gap:var(--spectrum-tab-item-focus-indicator-gap-large);--spectrum-tabs-font-size:var(--spectrum-font-size-200)}:host([size=xl]) #list{--spectrum-tabs-item-height:var(--spectrum-tab-item-height-extra-large);--spectrum-tabs-item-horizontal-spacing:var(--spectrum-tab-item-to-tab-item-horizontal-extra-large);--spectrum-tabs-item-vertical-spacing:var(--spectrum-tab-item-to-tab-item-vertical-extra-large);--spectrum-tabs-start-to-edge:var(--spectrum-tab-item-start-to-edge-extra-large);--spectrum-tabs-top-to-text:var(--spectrum-tab-item-top-to-text-extra-large);--spectrum-tabs-bottom-to-text:var(--spectrum-tab-item-bottom-to-text-extra-large);--spectrum-tabs-icon-size:var(--spectrum-workflow-icon-size-200);--spectrum-tabs-icon-to-text:var(--spectrum-text-to-visual-300);--spectrum-tabs-top-to-icon:var(--spectrum-tab-item-top-to-workflow-icon-extra-large);--spectrum-tabs-focus-indicator-gap:var(--spectrum-tab-item-focus-indicator-gap-extra-large);--spectrum-tabs-font-size:var(--spectrum-font-size-300)}:host([size=s]) #list.spectrum-Tabs--compact{--mod-tabs-item-height:var(--mod-tabs-item-height-compact,var(--spectrum-tab-item-compact-height-small));--mod-tabs-top-to-text:var(--mod-tabs-top-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-small));--mod-tabs-bottom-to-text:var(--mod-tabs-bottom-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-small));--mod-tabs-top-to-icon:var(--mod-tabs-top-to-icon-compact,var(--spectrum-tab-item-top-to-workflow-icon-compact-small))}:host([size=l]) #list.spectrum-Tabs--compact{--mod-tabs-item-height:var(--mod-tabs-item-height-compact,var(--spectrum-tab-item-compact-height-large));--mod-tabs-top-to-text:var(--mod-tabs-top-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-large));--mod-tabs-bottom-to-text:var(--mod-tabs-bottom-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-large));--mod-tabs-top-to-icon:var(--mod-tabs-top-to-icon-compact,var(--spectrum-tab-item-top-to-workflow-icon-compact-large))}:host([size=xl]) #list.spectrum-Tabs--compact{--mod-tabs-item-height:var(--mod-tabs-item-height-compact,var(--spectrum-tab-item-compact-height-extra-large));--mod-tabs-top-to-text:var(--mod-tabs-top-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-extra-large));--mod-tabs-bottom-to-text:var(--mod-tabs-bottom-to-text-compact,var(--spectrum-tab-item-top-to-text-compact-extra-large));--mod-tabs-top-to-icon:var(--mod-tabs-top-to-icon-compact,var(--spectrum-tab-item-top-to-workflow-icon-compact-extra-large))}\n`;export default a;\n//# sourceMappingURL=tabs-sizes.css.js.map\n","\"use strict\";var h=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var l=(n,a,e,t)=>{for(var i=t>1?void 0:t?p(a,e):a,s=n.length-1,r;s>=0;s--)(r=n[s])&&(i=(t?r(a,e,i):r(i))||i);return t&&i&&h(a,e,i),i};import{css as b,html as f,SizedMixin as m}from\"@spectrum-web-components/base\";import{property as o,query as d}from\"@spectrum-web-components/base/src/decorators.js\";import{classMap as v,ifDefined as u}from\"@spectrum-web-components/base/src/directives.js\";import{IntersectionController as S}from\"@lit-labs/observers/intersection-controller.js\";import{ResizeController as g}from\"@lit-labs/observers/resize-controller.js\";import{Focusable as y}from\"@spectrum-web-components/shared\";import{RovingTabindexController as E}from\"@spectrum-web-components/reactive-controllers/src/RovingTabindex.js\";import C from\"./tabs.css.js\";import T from\"./tabs-sizes.css.js\";export const ScaledIndicator={baseSize:100,noSelectionStyle:\"transform: translateX(0px) scaleX(0) scaleY(0)\",transformX(n,a){const e=a/this.baseSize;return`transform: translateX(${n}px) scaleX(${e});`},transformY(n,a){const e=a/this.baseSize;return`transform: translateY(${n}px) scaleY(${e});`},baseStyles(){return b`\n            :host([direction='vertical-right']) #selection-indicator,\n            :host([direction='vertical']) #selection-indicator {\n                height: ${this.baseSize}px;\n            }\n            :host([dir][direction='horizontal']) #selection-indicator {\n                width: ${this.baseSize}px;\n            }\n        `}};export class Tabs extends m(y,{noDefaultSize:!0}){constructor(){super();this.auto=!1;this.compact=!1;this.direction=\"horizontal\";this.emphasized=!1;this.label=\"\";this.enableTabsScroll=!1;this.quiet=!1;this.selectionIndicatorStyle=ScaledIndicator.noSelectionStyle;this.shouldAnimate=!1;this.selected=\"\";this._tabs=[];this.resizeController=new g(this,{callback:()=>{this.updateSelectionIndicator()}});this.rovingTabindexController=new E(this,{focusInIndex:e=>{let t=0;return e.find((s,r)=>{const c=this.selected?!s.disabled&&s.value===this.selected:!s.disabled;return t=r,c})?t:-1},direction:()=>\"both\",elementEnterAction:e=>{this.auto&&(this.shouldAnimate=!0,this.selectTarget(e))},elements:()=>this.tabs,isFocusableElement:e=>!e.disabled,listenerScope:()=>this.tabList});this.onTabsScroll=()=>{this.dispatchEvent(new Event(\"sp-tabs-scroll\",{bubbles:!0,composed:!0}))};this.onClick=e=>{if(this.disabled)return;const t=e.composedPath().find(i=>i.parentElement===this);!t||t.disabled||(this.shouldAnimate=!0,this.selectTarget(t))};this.onKeyDown=e=>{if(e.code===\"Enter\"||e.code===\"Space\"){e.preventDefault();const t=e.target;t&&this.selectTarget(t)}};this.updateCheckedState=()=>{if(this.tabs.forEach(e=>{e.removeAttribute(\"selected\")}),this.selected){const e=this.tabs.find(t=>t.value===this.selected);e?e.selected=!0:this.selected=\"\"}else{const e=this.tabs[0];e&&e.setAttribute(\"tabindex\",\"0\")}this.updateSelectionIndicator()};this.updateSelectionIndicator=async()=>{const e=this.tabs.find(s=>s.selected);if(!e){this.selectionIndicatorStyle=ScaledIndicator.noSelectionStyle;return}await Promise.all([e.updateComplete,document.fonts?document.fonts.ready:Promise.resolve()]);const{width:t,height:i}=e.getBoundingClientRect();this.selectionIndicatorStyle=this.direction===\"horizontal\"?ScaledIndicator.transformX(e.offsetLeft,t):ScaledIndicator.transformY(e.offsetTop,i)};new S(this,{config:{root:null,rootMargin:\"0px\",threshold:[0,1]},callback:()=>{this.updateSelectionIndicator()}})}static get styles(){return[T,C,ScaledIndicator.baseStyles()]}set tabs(e){e!==this.tabs&&(this._tabs.forEach(t=>{this.resizeController.unobserve(t)}),e.forEach(t=>{this.resizeController.observe(t)}),this._tabs=e,this.rovingTabindexController.clearElementCache())}get tabs(){return this._tabs}get focusElement(){return this.rovingTabindexController.focusInElement||this}scrollTabs(e,t=\"smooth\"){var i;(i=this.tabList)==null||i.scrollBy({left:e,top:0,behavior:t})}get scrollState(){if(this.tabList){const{scrollLeft:e,clientWidth:t,scrollWidth:i}=this.tabList,s=Math.abs(e)>0,r=Math.ceil(Math.abs(e))<i-t;return{canScrollLeft:this.dir===\"ltr\"?s:r,canScrollRight:this.dir===\"ltr\"?r:s}}return{}}async getUpdateComplete(){const e=await super.getUpdateComplete(),i=[...this.children].map(s=>typeof s.updateComplete!=\"undefined\"?s.updateComplete:Promise.resolve(!0));return await Promise.all(i),e}async scrollToSelection(){if(!this.enableTabsScroll||!this.selected)return;await this.updateComplete;const e=this.tabs.find(t=>t.value===this.selected);e==null||e.scrollIntoView()}updated(e){super.updated(e),e.has(\"selected\")&&this.scrollToSelection()}managePanels({target:e}){e.assignedElements().map(i=>{const{value:s,id:r}=i,c=this.querySelector(`[role=\"tab\"][value=\"${s}\"]`);c&&(c.setAttribute(\"aria-controls\",r),i.setAttribute(\"aria-labelledby\",c.id)),i.selected=s===this.selected})}render(){return f`\n            <div\n                class=${v({scroll:this.enableTabsScroll})}\n                aria-label=${u(this.label?this.label:void 0)}\n                @click=${this.onClick}\n                @keydown=${this.onKeyDown}\n                @scroll=${this.onTabsScroll}\n                id=\"list\"\n                role=\"tablist\"\n                part=\"tablist\"\n            >\n                <slot @slotchange=${this.onSlotChange}></slot>\n                <div\n                    id=\"selection-indicator\"\n                    class=${u(this.shouldAnimate?void 0:\"first-position\")}\n                    style=${this.selectionIndicatorStyle}\n                    role=\"presentation\"\n                ></div>\n            </div>\n            <slot name=\"tab-panel\" @slotchange=${this.managePanels}></slot>\n        `}willUpdate(e){if(!this.hasUpdated){const t=this.querySelector(\":scope > [selected]\");t&&this.selectTarget(t)}if(super.willUpdate(e),e.has(\"selected\")){if(this.tabs.length&&this.updateCheckedState(),e.get(\"selected\")){const i=this.querySelector(`[role=\"tabpanel\"][value=\"${e.get(\"selected\")}\"]`);i&&(i.selected=!1)}const t=this.querySelector(`[role=\"tabpanel\"][value=\"${this.selected}\"]`);t&&(t.selected=!0)}e.has(\"direction\")&&(this.direction===\"horizontal\"?this.removeAttribute(\"aria-orientation\"):this.setAttribute(\"aria-orientation\",\"vertical\")),e.has(\"dir\")&&this.updateSelectionIndicator(),e.has(\"disabled\")&&(this.disabled?this.setAttribute(\"aria-disabled\",\"true\"):this.removeAttribute(\"aria-disabled\")),!this.shouldAnimate&&typeof e.get(\"shouldAnimate\")!=\"undefined\"&&(this.shouldAnimate=!0)}selectTarget(e){const t=e.getAttribute(\"value\");if(t){const i=this.selected;this.selected=t,this.dispatchEvent(new Event(\"change\",{cancelable:!0}))||(this.selected=i)}}onSlotChange(){this.tabs=this.slotEl.assignedElements().filter(e=>e.getAttribute(\"role\")===\"tab\"),this.updateCheckedState()}connectedCallback(){super.connectedCallback(),window.addEventListener(\"resize\",this.updateSelectionIndicator),\"fonts\"in document&&document.fonts.addEventListener(\"loadingdone\",this.updateSelectionIndicator)}disconnectedCallback(){window.removeEventListener(\"resize\",this.updateSelectionIndicator),\"fonts\"in document&&document.fonts.removeEventListener(\"loadingdone\",this.updateSelectionIndicator),super.disconnectedCallback()}}l([o({type:Boolean})],Tabs.prototype,\"auto\",2),l([o({type:Boolean,reflect:!0})],Tabs.prototype,\"compact\",2),l([o({reflect:!0})],Tabs.prototype,\"dir\",2),l([o({reflect:!0})],Tabs.prototype,\"direction\",2),l([o({type:Boolean,reflect:!0})],Tabs.prototype,\"emphasized\",2),l([o()],Tabs.prototype,\"label\",2),l([o({type:Boolean})],Tabs.prototype,\"enableTabsScroll\",2),l([o({type:Boolean,reflect:!0})],Tabs.prototype,\"quiet\",2),l([o({attribute:!1})],Tabs.prototype,\"selectionIndicatorStyle\",2),l([o({attribute:!1})],Tabs.prototype,\"shouldAnimate\",2),l([d(\"slot\")],Tabs.prototype,\"slotEl\",2),l([d(\"#list\")],Tabs.prototype,\"tabList\",2),l([o({reflect:!0})],Tabs.prototype,\"selected\",2);\n//# sourceMappingURL=Tabs.js.map\n","\"use strict\";import{Tabs as e}from\"./src/Tabs.js\";import{defineElement as a}from\"@spectrum-web-components/base/src/define-element.js\";a(\"sp-tabs\",e);\n//# sourceMappingURL=sp-tabs.js.map\n","\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const o=t`\n    :host{box-sizing:border-box;block-size:calc(var(--mod-tabs-item-height,var(--spectrum-tabs-item-height)) - var(--mod-tabs-divider-size,var(--spectrum-tabs-divider-size)));z-index:1;white-space:nowrap;color:var(--highcontrast-tabs-color,var(--mod-tabs-color,var(--spectrum-tabs-color)));transition:color var(--mod-tabs-animation-duration,var(--spectrum-tabs-animation-duration))ease-out;cursor:pointer;outline:none;text-decoration:none;position:relative}::slotted([slot=icon]){block-size:var(--mod-tabs-icon-size,var(--spectrum-tabs-icon-size));inline-size:var(--mod-tabs-icon-size,var(--spectrum-tabs-icon-size));margin-block-start:var(--mod-tabs-top-to-icon,var(--spectrum-tabs-top-to-icon))}[name=icon]+#item-label{margin-inline-start:var(--mod-tabs-icon-to-text,var(--spectrum-tabs-icon-to-text))}:host:before{content:\"\";box-sizing:border-box;block-size:calc(100% - var(--mod-tabs-top-to-text,var(--spectrum-tabs-top-to-text)));inline-size:calc(100% + var(--mod-tabs-focus-indicator-gap,var(--spectrum-tabs-focus-indicator-gap))*2);border:var(--mod-tabs-focus-indicator-width,var(--spectrum-tabs-focus-indicator-width))solid transparent;border-radius:var(--mod-tabs-focus-indicator-border-radius,var(--spectrum-tabs-focus-indicator-border-radius));pointer-events:none;position:absolute;inset-block-start:calc(var(--mod-tabs-top-to-text,var(--spectrum-tabs-top-to-text))/2);inset-inline-start:calc(var(--mod-tabs-focus-indicator-gap,var(--spectrum-tabs-focus-indicator-gap))*-1);inset-inline-end:calc(var(--mod-tabs-focus-indicator-gap,var(--spectrum-tabs-focus-indicator-gap))*-1)}@media (hover:hover){:host(:hover){color:var(--highcontrast-tabs-color-hover,var(--mod-tabs-color-hover,var(--spectrum-tabs-color-hover)))}}:host([selected]){color:var(--highcontrast-tabs-color-selected,var(--mod-tabs-color-selected,var(--spectrum-tabs-color-selected)))}:host([disabled]){cursor:default;color:var(--highcontrast-tabs-color-disabled,var(--mod-tabs-color-disabled,var(--spectrum-tabs-color-disabled)))}:host([disabled]) #item-label{cursor:default}:host(:focus-visible){color:var(--highcontrast-tabs-color-key-focus,var(--mod-tabs-color-key-focus,var(--spectrum-tabs-color-key-focus)))}:host(:focus-visible):before{border-color:var(--highcontrast-tabs-focus-indicator-color,var(--mod-tabs-focus-indicator-color,var(--spectrum-tabs-focus-indicator-color)))}#item-label{cursor:pointer;vertical-align:top;font-family:var(--mod-tabs-font-family,var(--spectrum-tabs-font-family));font-style:var(--mod-tabs-font-style,var(--spectrum-tabs-font-style));font-size:var(--mod-tabs-font-weight,var(--spectrum-tabs-font-size));font-weight:var(--mod-tabs-font-weight,var(--spectrum-tabs-font-weight));line-height:var(--mod-tabs-line-height,var(--spectrum-tabs-line-height));margin-block-start:var(--mod-tabs-top-to-text,var(--spectrum-tabs-top-to-text));margin-block-end:var(--mod-tabs-bottom-to-text,var(--spectrum-tabs-bottom-to-text));text-decoration:none;display:inline-block}#item-label:empty{display:none}:host{scroll-margin-inline:var(--mod-tabs-item-horizontal-spacing,var(--spectrum-tabs-item-horizontal-spacing))}:host([disabled]){pointer-events:none}#item-label[hidden]{display:none}@media (forced-colors:active){:host:before{background-color:buttonface}:host ::slotted([slot=icon]){z-index:1;color:inherit;position:relative}#item-label{z-index:1;position:relative}:host([selected]),:host([selected]) ::slotted([slot=icon]),:host([selected]) #item-label{color:highlighttext}}:host([vertical]){flex-direction:column;justify-content:center;align-items:center;height:auto;display:flex}:host([dir][vertical]) slot[name=icon]+#item-label{margin-block-start:calc(var(--mod-tabs-top-to-text,var(--spectrum-tabs-top-to-text))/2);margin-block-end:calc(var(--mod-tabs-bottom-to-text,var(--spectrum-tabs-bottom-to-text))/2);margin-inline-start:0}:host([vertical]) ::slotted([slot=icon]){margin-block-start:calc(var(--mod-tabs-top-to-icon,var(--spectrum-tabs-top-to-icon))/2)}\n`;export default o;\n//# sourceMappingURL=tab.css.js.map\n","\"use strict\";var c=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var l=(u,r,e,o)=>{for(var s=o>1?void 0:o?b(r,e):r,a=u.length-1,d;a>=0;a--)(d=u[a])&&(s=(o?d(r,e,s):d(s))||s);return o&&s&&c(r,e,s),s};import{html as n,nothing as p,SpectrumElement as h}from\"@spectrum-web-components/base\";import{property as i}from\"@spectrum-web-components/base/src/decorators.js\";import{FocusVisiblePolyfillMixin as f,ObserveSlotPresence as m,ObserveSlotText as y}from\"@spectrum-web-components/shared\";import v from\"./tab.css.js\";const t=class t extends f(y(m(h,'[slot=\"icon\"]'),\"\")){constructor(){super(...arguments);this.disabled=!1;this.label=\"\";this.selected=!1;this.vertical=!1;this.value=\"\"}static get styles(){return[v]}get hasIcon(){return this.slotContentIsPresent}get hasLabel(){return!!this.label||this.slotHasContent}render(){return n`\n            ${this.hasIcon?n`\n                      <slot name=\"icon\"></slot>\n                  `:p}\n            <label id=\"item-label\" ?hidden=${!this.hasLabel}>\n                ${this.slotHasContent?p:this.label}\n                <slot>${this.label}</slot>\n            </label>\n        `}firstUpdated(e){super.firstUpdated(e),this.setAttribute(\"role\",\"tab\"),this.hasAttribute(\"id\")||(this.id=`sp-tab-${t.instanceCount++}`)}updated(e){super.updated(e),e.has(\"selected\")&&(this.setAttribute(\"aria-selected\",this.selected?\"true\":\"false\"),this.setAttribute(\"tabindex\",this.selected?\"0\":\"-1\")),e.has(\"disabled\")&&(this.disabled?this.setAttribute(\"aria-disabled\",\"true\"):this.removeAttribute(\"aria-disabled\"))}};t.instanceCount=0,l([i({type:Boolean,reflect:!0})],t.prototype,\"disabled\",2),l([i({reflect:!0})],t.prototype,\"label\",2),l([i({type:Boolean,reflect:!0})],t.prototype,\"selected\",2),l([i({type:Boolean,reflect:!0})],t.prototype,\"vertical\",2),l([i({type:String,reflect:!0})],t.prototype,\"value\",2);export let Tab=t;\n//# sourceMappingURL=Tab.js.map\n","\"use strict\";import{Tab as e}from\"./src/Tab.js\";import{defineElement as a}from\"@spectrum-web-components/base/src/define-element.js\";a(\"sp-tab\",e);\n//# sourceMappingURL=sp-tab.js.map\n","\"use strict\";import{css as s}from\"@spectrum-web-components/base\";const e=s`\n    :host{display:inline-flex}:host(:not([selected])){display:none}\n`;export default e;\n//# sourceMappingURL=tab-panel.css.js.map\n","\"use strict\";var a=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var l=(u,i,s,r)=>{for(var t=r>1?void 0:r?c(i,s):i,o=u.length-1,d;o>=0;o--)(d=u[o])&&(t=(r?d(i,s,t):d(t))||t);return r&&t&&a(i,s,t),t};import{html as h,SpectrumElement as n}from\"@spectrum-web-components/base\";import{property as p}from\"@spectrum-web-components/base/src/decorators.js\";import m from\"./tab-panel.css.js\";const e=class e extends n{constructor(){super(...arguments);this.selected=!1;this.value=\"\"}handleFocusin(){this.removeAttribute(\"tabindex\")}handleFocusout(){this.tabIndex=this.selected?0:-1}render(){return h`\n            <slot\n                @focusin=${this.handleFocusin}\n                @focusout=${this.handleFocusout}\n            ></slot>\n        `}firstUpdated(){this.slot=\"tab-panel\",this.setAttribute(\"role\",\"tabpanel\"),this.tabIndex=0,this.hasAttribute(\"id\")||(this.id=`sp-tab-panel-${e.instanceCount++}`)}updated(s){s.has(\"selected\")&&(this.selected?(this.removeAttribute(\"aria-hidden\"),this.tabIndex=0):(this.setAttribute(\"aria-hidden\",\"true\"),this.tabIndex=-1))}};e.styles=[m],e.instanceCount=0,l([p({type:Boolean,reflect:!0})],e.prototype,\"selected\",2),l([p({type:String,reflect:!0})],e.prototype,\"value\",2);export let TabPanel=e;\n//# sourceMappingURL=TabPanel.js.map\n","\"use strict\";import{TabPanel as e}from\"./src/TabPanel.js\";import{defineElement as a}from\"@spectrum-web-components/base/src/define-element.js\";a(\"sp-tab-panel\",e);\n//# sourceMappingURL=sp-tab-panel.js.map\n","import { css } from \"lit\";\n\nimport { global } from \"../../lib/styles\";\nimport defaultFormStyles from \"../../archJsonSchemaForm/src/styles\";\n\nexport default [\n  global,\n  ...defaultFormStyles,\n  css`\n    div.input-block {\n      background-color: #f8f8f8;\n      padding-bottom: 0.5rem;\n    }\n\n    label {\n      background-color: #666;\n      color: #fff;\n      padding: 0.5rem;\n      display: block;\n      font-size: 0.9rem;\n      /* Make it a little brighter than the default background color */\n      filter: brightness(1.2);\n    }\n  `,\n];\n","import { customElement } from \"lit/decorators.js\";\n\nimport { JobParameters } from \"../../lib/types\";\nimport { ArchJsonSchemaForm } from \"../../archJsonSchemaForm/index\";\n\nimport styles from \"./styles\";\n\n@customElement(\"arch-job-parameters-form\")\nexport class ArchJobParametersForm extends ArchJsonSchemaForm<JobParameters> {\n  static styles = styles;\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-job-parameters-form\": ArchJobParametersForm;\n  }\n}\n","import { css } from \"lit\";\nimport { global, Bootstrap4Alerts } from \"../../lib/styles\";\n\nexport default [\n  global,\n  Bootstrap4Alerts,\n  css`\n    dl {\n      padding-inline-start: 1rem;\n      line-height: 1.4rem;\n    }\n\n    dt {\n      display: inline-block;\n      font-weight: normal;\n    }\n\n    dd {\n      font-weight: bold;\n    }\n\n    dd:after {\n      content: \"\";\n      padding: 0;\n    }\n\n    div > h3 {\n      margin-top: 0;\n    }\n\n    div > p {\n      line-height: 1.2rem;\n    }\n\n    button.job-button {\n      cursor: wait;\n    }\n\n    button.job-button.primary {\n      cursor: pointer;\n    }\n\n    p.history > a {\n      text-decoration: underline;\n    }\n\n    /* Disabled button text style should match ArchLoadingIndicator */\n    button:disabled {\n      font-style: italic;\n      color: #666;\n    }\n  `,\n];\n","import { LitElement, TemplateResult, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"../../archLoadingIndicator/index\";\n\nimport {\n  JobIdStatesMap,\n  JobParameters,\n  ProcessingState,\n  ValueOf,\n} from \"../../lib/types\";\n\nimport \"../../archModal/src/arch-modal\";\nimport styles from \"./arch-job-card-styles\";\n\n@customElement(\"arch-job-button\")\nexport class ArchJobButton extends LitElement {\n  @property() buttonClass = \"\";\n  @property() buttonHTML: TemplateResult = html``;\n  @property() jobName = \"\";\n  @property() collectionName = \"\";\n  @property() jobParameters!: JobParameters;\n  @property() jobStateTuples: ValueOf<JobIdStatesMap> = [];\n\n  static styles = styles;\n\n  // Set delegatesFocus=true so that we can restore focus to the job button\n  // on arch-global-modal close.\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n\n  private renderButton(): TemplateResult {\n    const { jobStateTuples } = this;\n\n    const _renderButton = (\n      text: string,\n      loading: boolean,\n      disabled: boolean,\n      className = \"\"\n    ) => html`\n      <button slot=\"trigger\" class=${className} ?disabled=${disabled}>\n        ${!loading\n          ? text\n          : html`<arch-loading-indicator\n              text=${text}\n            ></arch-loading-indicator>`}\n      </button>\n    `;\n\n    switch (jobStateTuples) {\n      case undefined:\n        // Job states are loading - likely in response to a collection selection change.\n        return _renderButton(\"Loading\", true, true);\n        break;\n      case null:\n        // No previous runs exist for this job.\n        return _renderButton(\"Generate Dataset\", false, false, \"primary\");\n        break;\n    }\n\n    const latestState = jobStateTuples[0][2];\n    switch (latestState) {\n      case ProcessingState.SUBMITTED:\n        // A new job was submitted.\n        return _renderButton(\"Job Starting\", true, true);\n        break;\n      case ProcessingState.QUEUED:\n        return _renderButton(\"Job Queued\", false, true);\n        break;\n      case ProcessingState.RUNNING:\n        return _renderButton(\"Job Running\", true, true);\n        break;\n      case ProcessingState.FINISHED:\n      case ProcessingState.FAILED:\n      case ProcessingState.CANCELLED:\n        // The most recent job run has finished.\n        return _renderButton(\"Generate New Dataset\", false, false, \"primary\");\n        break;\n    }\n  }\n\n  render() {\n    const { jobParameters, jobName, collectionName } = this;\n    return html`\n      <arch-modal title=\"Generate Dataset\">\n        <div slot=\"content\">\n          <p>\n            You're about to generate a <strong>${jobName}</strong> dataset from\n            the <strong>${collectionName}</strong> collection with the following\n            configuration:\n            <dl>\n            ${Object.entries(jobParameters).map(\n              ([k, v]) => html`\n                <dt>${k}</dt>\n                <dd>${typeof v === \"boolean\" ? (v ? \"Yes\" : \"No\") : v}</dd>\n                <br />\n              `\n            )}\n            </dl>\n          </p>\n        </div>\n        ${this.renderButton()}\n      </arch-modal>\n    `;\n  }\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-job-button\": ArchJobButton;\n  }\n}\n","import { LitElement, html } from \"lit\";\n\nimport { customElement, property, query, state } from \"lit/decorators.js\";\n\nimport {\n  AvailableJob,\n  JobIdStatesMap,\n  JobParameters,\n  ProcessingState,\n  SomeJSONSchema,\n} from \"../../lib/types\";\n\nimport { Paths, isoStringToDateString } from \"../../lib/helpers\";\n\nimport { ArchJobButton } from \"./arch-job-button\";\nimport \"./arch-job-button\";\nimport styles from \"./arch-job-card-styles\";\n\n@customElement(\"arch-job-card\")\nexport class ArchJobCard extends LitElement {\n  @property({ type: Number }) collectionId!: number;\n  @property({ type: String }) collectionName!: string;\n  @property() job!: AvailableJob;\n  @property() jobIdStatesMap!: JobIdStatesMap;\n\n  @state() jobParameters: object | JobParameters = {};\n\n  @query(\"arch-job-button\") jobButton!: ArchJobButton;\n\n  static styles = styles;\n\n  static DefaultParametersSchema: SomeJSONSchema = {\n    type: \"object\",\n    required: [],\n    properties: {},\n  };\n\n  private extendParamsSchemaWithDefaultOptions(\n    schema: AvailableJob[\"parameters_schema\"]\n  ): AvailableJob[\"parameters_schema\"] {\n    schema = schema ?? ArchJobCard.DefaultParametersSchema;\n    return Object.assign(schema, {\n      properties: Object.assign(\n        schema.properties as Record<string, SomeJSONSchema>,\n        {\n          sample: {\n            type: \"boolean\",\n            title: \"Sample\",\n            default: false,\n            description:\n              \"Generate a sample dataset from a small subset of records\",\n          },\n        }\n      ),\n    });\n  }\n\n  get historicalDatasetsUrl() {\n    const { collectionId, job } = this;\n    return `${Paths.collection(collectionId)}?column-name=${encodeURIComponent(\n      job.name\n    )}`;\n  }\n\n  renderHistory() {\n    const { jobIdStatesMap, job } = this;\n    const stateTuples = jobIdStatesMap && jobIdStatesMap[job.id];\n    if (stateTuples === undefined || stateTuples.length === 0) {\n      return html`\n        <h4>History</h4>\n        <p class=\"history\">\n          No datasets of this type have been generated for this collection.\n        </p>\n      `;\n    }\n    const finishedStates = stateTuples.filter(\n      ([, , state]) => state === ProcessingState.FINISHED\n    );\n    if (finishedStates.length === 0) {\n      return html`\n        <h4>History</h4>\n        <p class=\"history\">\n          No datasets of this type have been completed for this collection.\n        </p>\n      `;\n    }\n    const hasMulti = finishedStates.length > 1;\n    return html`\n      <h4>History</h4>\n      <p class=\"history\">\n        You've generated this dataset\n        <a href=\"${this.historicalDatasetsUrl}\" target=\"_blank\">\n          <strong\n            >${finishedStates.length}&nbsp;time${hasMulti ? \"s\" : \"\"}</strong\n          >\n        </a>\n        for this collection, most recently on\n        <a href=\"${Paths.dataset(finishedStates[0][0])}\">\n          <strong>${isoStringToDateString(finishedStates[0][1])}</strong> </a\n        >.\n      </p>\n    `;\n  }\n\n  renderConfigureJob() {\n    const { job, jobParameters } = this;\n    // Call jobButton.requestUpdate() on data-change event in to ensure that it\n    // has a fresh copy of jobParameters to display in the confirmation modal.\n    return html`\n      <h4>Configure</h4>\n      <arch-job-parameters-form\n        .schema=${this.extendParamsSchemaWithDefaultOptions(\n          job.parameters_schema\n        )}\n        .data=${jobParameters as JobParameters}\n        @data-change=${() => this.jobButton.requestUpdate()}\n      ></arch-job-parameters-form>\n    `;\n  }\n\n  emitGenerateDataset(e: Event) {\n    e.stopPropagation();\n    this.dispatchEvent(\n      new CustomEvent(\"generate-dataset\", {\n        detail: { archJobCard: this },\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  render() {\n    // Get the current job states.\n    const { collectionId, collectionName, job, jobIdStatesMap, jobParameters } =\n      this;\n    const { id: jobId } = job;\n    // Use undefined to indicate that a job state is loading, and null to\n    // indicate that no such job run exists.\n    const stateTuples = !this.jobIdStatesMap\n      ? undefined\n      : jobIdStatesMap[jobId] ?? null;\n\n    return html` <div>\n      <h3>${job.name}</h3>\n      <p>\n        ${job.description}\n        <a href=\"${job.info_url}\">Learn&nbsp;more &gt;</a>.\n        <a href=\"${job.code_url}\">Read&nbsp;the&nbsp;code &gt;</a>.\n      </p>\n      ${collectionId === null\n        ? html`<p class=\"alert alert-info\">\n            Select a Source Collection above to display the options for\n            generating a Dataset of this type.\n          </p>`\n        : html`\n            ${this.renderHistory()} ${this.renderConfigureJob()}\n            <arch-job-button\n              .jobName=${job.name}\n              .collectionName=${collectionName}\n              .jobStateTuples=${stateTuples}\n              .jobParameters=${jobParameters}\n              @submit=${this.emitGenerateDataset.bind(this)}\n            >\n            </arch-job-button>\n          `}\n    </div>`;\n  }\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-job-card\": ArchJobCard;\n  }\n}\n","import { css } from \"lit\";\nimport { global } from \"../../lib/styles\";\n\nexport default [\n  global,\n  css`\n    label {\n      background-color: #000;\n      color: #fff;\n      padding: 0.5rem;\n      display: block;\n      font-size: 0.9rem;\n      font-weight: bold;\n    }\n\n    select[name=\"source-collection\"] {\n      width: 100%;\n    }\n\n    label[for=\"job-category\"] {\n      margin-top: 1rem;\n    }\n\n    arch-job-category-section {\n      flex-grow: 1;\n    }\n\n    .category-header {\n      padding: 0.5rem;\n      background-color: #eee;\n    }\n\n    sp-tabs[name=\"job-tabs\"] sp-tab {\n      padding: 0 1rem;\n    }\n\n    sp-tabs[name=\"job-tabs\"] sp-tab[selected] {\n      background-color: #fff;\n      margin-right: 0;\n    }\n\n    sp-tabs[name=\"job-tabs\"] sp-tab-panel > arch-job-card {\n      flex-grow: 1;\n      background-color: #fff;\n      padding: 1rem;\n    }\n  `,\n];\n","import { LitElement, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"@spectrum-web-components/tabs/sp-tabs.js\";\nimport \"@spectrum-web-components/tabs/sp-tab.js\";\nimport \"@spectrum-web-components/tabs/sp-tab-panel.js\";\nimport \"@spectrum-web-components/theme/sp-theme.js\";\nimport \"@spectrum-web-components/theme/src/themes.js\";\n\nimport { AvailableJobsCategory, JobState } from \"../../lib/types\";\n\nimport \"../../archJobParametersForm/index\";\nimport \"./arch-job-card\";\nimport Styles from \"./styles\";\n\n@customElement(\"arch-job-category-section\")\nexport class ArchJobCategorySection extends LitElement {\n  @property({ type: String }) collectionId!: number;\n  @property({ type: String }) collectionName!: string;\n  @property({ type: Object }) jobsCat!: AvailableJobsCategory;\n  @property({ type: Object }) jobIdStatesMap!: Record<string, JobState>;\n\n  // Apply any ARCH-specific styles.\n  static styles = Styles;\n\n  render() {\n    const { collectionId, collectionName, jobIdStatesMap } = this;\n    const { categoryDescription, jobs } = this.jobsCat;\n    return html`\n      <div class=\"category-header\">\n        <p class=\"category-description\">${categoryDescription}</p>\n      </div>\n\n      <label for=\"job-tabs\">Select Dataset Type</label>\n      <br />\n      <sp-theme color=\"light\" scale=\"medium\">\n        <sp-tabs\n          compact\n          direction=\"vertical\"\n          selected=\"${jobs[0].id}\"\n          name=\"job-tabs\"\n        >\n          ${jobs.map(\n            (job) => html`<sp-tab\n                label=\"${job.name}\"\n                value=\"${job.id}\"\n              ></sp-tab>\n              <sp-tab-panel value=\"${job.id}\">\n                <arch-job-card\n                  .collectionId=${collectionId}\n                  .collectionName=${collectionName}\n                  .job=${job}\n                  .jobIdStatesMap=${jobIdStatesMap}\n                ></arch-job-card>\n              </sp-tab-panel>`\n          )}\n        </sp-tabs>\n      </sp-theme>\n    `;\n  }\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-job-category-section\": ArchJobCategorySection;\n  }\n}\n","import { LitElement, html } from \"lit\";\nimport {\n  customElement,\n  property,\n  query,\n  queryAll,\n  state,\n} from \"lit/decorators.js\";\n\nimport \"@spectrum-web-components/icon/sp-icon.js\";\nimport \"@spectrum-web-components/tabs/sp-tabs.js\";\nimport \"@spectrum-web-components/tabs/sp-tab.js\";\nimport \"@spectrum-web-components/tabs/sp-tab-panel.js\";\nimport \"@spectrum-web-components/theme/sp-theme.js\";\nimport \"@spectrum-web-components/theme/src/themes.js\";\n\nimport {\n  Paths,\n  createElement,\n  isActiveProcessingState,\n} from \"../../lib/helpers\";\nimport {\n  DefaultSelectElementPromptText,\n  UrlCollectionParamName,\n} from \"../../lib/constants\";\nimport ArchAPI from \"../../lib/ArchAPI\";\nimport {\n  AvailableJob,\n  AvailableJobs,\n  AvailableJobsCategory,\n  Collection,\n  Dataset,\n  GenerateDatasetDetail,\n  JobIdStatesMap,\n  JobParameters,\n  ProcessingState,\n} from \"../../lib/types\";\n\nimport { ArchGlobalModal } from \"../../archGlobalModal\";\n\nimport \"./arch-job-category-section\";\nimport { ArchJobCategorySection } from \"./arch-job-category-section\";\n\nimport Styles from \"./styles\";\n\n// Define the display order of known categories and jobs.\nconst sortedCatNames = [\"Collection\", \"Network\", \"Text\", \"File Formats\"];\n\nconst catNameSortedJobNamesMap: Record<\n  AvailableJobsCategory[\"categoryName\"],\n  Array<AvailableJob[\"name\"]>\n> = {\n  Collection: [\"Domain frequency\", \"Web archive transformation (WAT)\"],\n  Network: [\"Domain graph\", \"Image graph\", \"Longitudinal graph\", \"Web graph\"],\n  Text: [\"Named entities\", \"Plain text of webpages\", \"Text file information\"],\n  \"File Formats\": [\n    \"Audio file information\",\n    \"Image file information\",\n    \"PDF file information\",\n    \"Presentation file information\",\n    \"Spreadsheet file information\",\n    \"Video file information\",\n    \"Word processing file information\",\n  ],\n};\n\nconst activeStatusPollPeriodSeconds = 10;\n\n@customElement(\"arch-generate-dataset-form\")\nexport class ArchGenerateDatasetForm extends LitElement {\n  @property({ type: String }) csrfToken!: string;\n\n  @state() collections: null | Array<Collection> = null;\n  @state() collectionIdNameMap: Map<Collection[\"id\"], Collection[\"name\"]> =\n    new Map();\n  @state() availableJobs: AvailableJobs = [];\n  @state() sourceCollectionId: Collection[\"id\"] | null = null;\n  @state() collectionJobIdStatesMapMap: Record<\n    Collection[\"id\"],\n    JobIdStatesMap\n  > = {};\n  @state() activePollCollectionId: Collection[\"id\"] | null = null;\n\n  @query(\"select[name=source-collection]\")\n  collectionSelector!: HTMLSelectElement;\n  @queryAll(\"arch-job-category-section\")\n  categorySections!: Array<ArchJobCategorySection>;\n\n  // Apply any ARCH-specific styles.\n  static styles = Styles;\n\n  async connectedCallback() {\n    // Fetch available Collections and Jobs.\n    await this.initAvailableJobs();\n    void this.initCollections();\n    super.connectedCallback();\n    this.addEventListener(\n      \"generate-dataset\",\n      (e: Event) => void this.generateDatasetHandler(e)\n    );\n  }\n\n  render() {\n    const jobIdStatesMap =\n      this.sourceCollectionId &&\n      this.collectionJobIdStatesMapMap[this.sourceCollectionId];\n    return html`\n      <label for=\"source-collection\">Select Source Collection</label>\n      <select\n        name=\"source-collection\"\n        @change=${this.sourceCollectionChangeHandler}\n        ?disabled=${this.collections === null}\n      >\n        ${this.collections === null\n          ? html`<option>Loading...</option>`\n          : html`<option value=\"\">${DefaultSelectElementPromptText}</option>`}\n        ${(this.collections ?? []).map(\n          (collection) => html`\n            <option\n              value=\"${collection.id}\"\n              ?selected=${collection.id === this.sourceCollectionId}\n            >\n              ${collection.name}\n            </option>\n          `\n        )}\n      </select>\n\n      <label for=\"job-category\">Select Dataset Category</label>\n      <sp-theme color=\"light\" scale=\"medium\">\n        <sp-tabs selected=\"${this.availableJobs[0].categoryId}\" size=\"l\">\n          ${this.availableJobs.map(\n            (jobsCat) => html`<sp-tab\n              label=\"${jobsCat.categoryName}\"\n              value=\"${jobsCat.categoryId}\"\n              style=\"--mod-tabs-icon-to-text: 0;\"\n            >\n              <sp-icon\n                label=\"${jobsCat.categoryName}\"\n                src=\"${jobsCat.categoryImage}\"\n                slot=\"icon\"\n                size=\"l\"\n              ></sp-icon>\n            </sp-tab> `\n          )}\n          ${this.availableJobs.map(\n            (jobsCat) => html`\n              <sp-tab-panel value=\"${jobsCat.categoryId}\">\n                <arch-job-category-section\n                  .collectionId=${this.sourceCollectionId}\n                  .collectionName=${this.collectionIdNameMap.get(\n                    this.sourceCollectionId ?? 0\n                  )}\n                  .jobsCat=${jobsCat}\n                  .jobIdStatesMap=${jobIdStatesMap}\n                >\n                </arch-job-category-section>\n              </sp-tab-panel>\n            `\n          )}\n        </sp-tabs>\n      </sp-theme>\n    `;\n  }\n\n  private setCollectionIdUrlParam(collectionId: Collection[\"id\"] | null) {\n    const url = new URL(window.location.href);\n    if (!collectionId) {\n      url.searchParams.delete(UrlCollectionParamName);\n    } else {\n      url.searchParams.set(UrlCollectionParamName, collectionId.toString());\n    }\n    history.replaceState(null, \"\", url.toString());\n  }\n\n  private async sourceCollectionChangeHandler(e: Event) {\n    const collectionId =\n      parseInt((e.target as HTMLSelectElement).value) || null;\n    this.setCollectionIdUrlParam(collectionId);\n    await this.setSourceCollectionId(collectionId);\n    this.requestUpdate();\n  }\n\n  private async setSourceCollectionId(collectionId: Collection[\"id\"] | null) {\n    this.sourceCollectionId = collectionId;\n    // If a collection is selected, fetch the job states.\n    if (collectionId) {\n      await this.initAvailableJobs();\n      this.collectionJobIdStatesMapMap[collectionId] =\n        await this.fetchJobIdStatesMap(collectionId);\n      this.maybeStartPolling();\n    }\n  }\n\n  private async initCollections() {\n    const response = await ArchAPI.collections.get([\n      [\"limit\", \"=\", 10000],\n      [\"sort\", \"=\", \"name\"],\n    ]);\n    this.collections = response.items;\n    this.collectionIdNameMap = new Map(\n      this.collections.map((c) => [c.id, c.name])\n    );\n    // Maybe select an initial Collection.\n    const initialCollectionId = parseInt(\n      new URLSearchParams(window.location.search).get(UrlCollectionParamName) ??\n        \"\"\n    );\n    if (!Number.isNaN(initialCollectionId)) {\n      await this.setSourceCollectionId(initialCollectionId);\n      this.requestUpdate();\n    }\n  }\n\n  private async initAvailableJobs() {\n    const { sourceCollectionId } = this;\n    const availableJobs = (await (\n      await fetch(\n        \"/api/available-jobs\" +\n          (sourceCollectionId === null\n            ? \"\"\n            : `?collection_id=${sourceCollectionId}`)\n      )\n    ).json()) as AvailableJobs;\n    // Apply the desired display order.\n    availableJobs\n      .sort((a, b) =>\n        sortedCatNames.indexOf(a.categoryName) >\n        sortedCatNames.indexOf(b.categoryName)\n          ? 1\n          : -1\n      )\n      .map((jobCat) => {\n        jobCat.jobs.sort((a, b) => {\n          const sortedJobNames = catNameSortedJobNamesMap[jobCat.categoryName];\n          return sortedJobNames === undefined\n            ? 0\n            : sortedJobNames.indexOf(a.name) > sortedJobNames.indexOf(b.name)\n            ? 1\n            : -1;\n        });\n        return jobCat;\n      });\n    this.availableJobs = availableJobs;\n  }\n\n  private async fetchJobIdStatesMap(collectionId: Collection[\"id\"]) {\n    return (await (\n      await fetch(`/api/collections/${collectionId}/dataset_states`)\n    ).json()) as JobIdStatesMap;\n  }\n\n  async pollDatasetStates() {\n    const { sourceCollectionId } = this;\n    // Stop polling if the selected collection has changed.\n    if (\n      sourceCollectionId === null ||\n      this.activePollCollectionId !== sourceCollectionId\n    ) {\n      this.activePollCollectionId = null;\n      return;\n    }\n    // Fetch the current collection job states.\n    this.collectionJobIdStatesMapMap[sourceCollectionId] =\n      await this.fetchJobIdStatesMap(sourceCollectionId);\n    // Request a lit component update.\n    this.requestUpdate();\n    // Keep polling if any jobs remain active.\n    for (const startTimeStateTuples of Object.values(\n      this.collectionJobIdStatesMapMap[sourceCollectionId]\n    )) {\n      if (isActiveProcessingState(startTimeStateTuples[0][2])) {\n        // A job is active, set a polling timeout and return.\n        setTimeout(\n          () => void this.pollDatasetStates(),\n          activeStatusPollPeriodSeconds * 1000\n        );\n        return;\n      }\n    }\n    // No jobs remain active, so stop polling.\n    this.activePollCollectionId = null;\n  }\n\n  private maybeStartPolling() {\n    const { collectionJobIdStatesMapMap, sourceCollectionId } = this;\n    // Abort if no collection is selected or polling is already active.\n    if (sourceCollectionId === null || this.activePollCollectionId !== null) {\n      return;\n    }\n    for (const startTimeStateTuples of Object.values(\n      collectionJobIdStatesMapMap[sourceCollectionId]\n    )) {\n      if (isActiveProcessingState(startTimeStateTuples[0][2])) {\n        // A job is active, start polling.\n        this.activePollCollectionId = sourceCollectionId;\n        void this.pollDatasetStates();\n        return;\n      }\n    }\n  }\n\n  private get successModalContent(): HTMLSpanElement {\n    /* Return an element to serve as the success modal content. */\n    return createElement(\"span\", {\n      children: [\n        \"You will receive an email when your dataset is ready. You can monitor its progress on the \",\n        createElement(\"a\", {\n          href: Paths.datasets,\n          textContent: \"Dataset list\",\n        }),\n      ],\n    });\n  }\n\n  private async generateDatasetHandler(e: Event) {\n    const archJobCard = (e as CustomEvent<GenerateDatasetDetail>).detail\n      .archJobCard;\n    const jobId = archJobCard.job.id;\n    const jobParameters = archJobCard.jobParameters as JobParameters;\n    // Update the internal state of this job to SUBMITTED.\n    const { collectionJobIdStatesMapMap } = this;\n    const sourceCollectionId = this.sourceCollectionId as Collection[\"id\"];\n    const datasetStates = collectionJobIdStatesMapMap[sourceCollectionId];\n    // Prepend a synthetic/dummy JobState object with state = SUBMITTED in order to\n    // cause the ArchJobCard button to update its displayed text. This object will\n    // be overwritten with a real JobState object once polling starts.\n    const syntheticStateArr: [Dataset[\"id\"], string, Dataset[\"state\"]] = [\n      0,\n      new Date().toISOString(),\n      ProcessingState.SUBMITTED,\n    ];\n    // Prepend if datasetStates[jobId] is defined, otherwise assign.\n    if (datasetStates[jobId]) {\n      datasetStates[jobId].unshift(syntheticStateArr);\n    } else {\n      datasetStates[jobId] = [syntheticStateArr];\n    }\n    // Request a manual re-render.\n    archJobCard.jobButton.requestUpdate();\n    // Make the request.\n    try {\n      await ArchAPI.jobs.run(sourceCollectionId, jobId, jobParameters);\n    } catch {\n      // Delete the synthetic DatasetState object and request a manual re-render.\n      datasetStates[jobId].shift();\n      archJobCard.jobButton.requestUpdate();\n      ArchGlobalModal.showError(\n        \"\",\n        \"Dataset generation failed. Please try again.\",\n        archJobCard.jobButton\n      );\n      return;\n    }\n\n    ArchGlobalModal.showNotification(\n      \"ARCH is generating your dataset\",\n      this.successModalContent,\n      archJobCard.jobButton\n    );\n    this.maybeStartPolling();\n  }\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-generate-dataset-form\": ArchGenerateDatasetForm;\n  }\n}\n"],"names":["o","e","t","constructor","target","s","config","i","callback","h","skipInitial","this","Set","add","window","IntersectionObserver","u","handleChanges","requestUpdate","addController","console","warn","value","hostConnected","observe","hostDisconnected","disconnect","async","takeRecords","length","unobserve","delete","r","FocusGroupController","direction","elementEnterAction","n","elements","focusInIndex","isFocusableElement","listenerScope","c","_currentIndex","_direction","directionLength","_focused","_focusInIndex","_listenerScope","host","offset","recentlyConnected","handleFocusin","isEventWithinListenerScope","isRelatedTargetAnElement","hostContainsFocus","composedPath","find","indexOf","currentIndex","handleFocusout","hostNoLongerContainsFocus","handleKeydown","acceptsEventCode","code","defaultPrevented","preventDefault","setCurrentIndexCircularly","focus","mutationObserver","MutationObserver","handleItemMutation","_elements","cachedElements","focused","focusInElement","includes","clearElementCache","update","unmanage","manage","requestAnimationFrame","forEach","attributes","addEventListener","removeEventListener","relatedTarget","startsWith","addEventListeners","removeEventListeners","hostUpdated","RovingTabindexController","super","arguments","managed","manageIndexesAnimationFrame","manageTabindexes","cancelAnimationFrame","updateTabindexes","tabIndex","removeTabIndex","contains","a","removeAttribute","hasUpdated","Object","defineProperty","p","getOwnPropertyDescriptor","l","ScaledIndicator","baseSize","noSelectionStyle","transformX","transformY","baseStyles","b","Tabs","m","y","noDefaultSize","auto","compact","emphasized","label","enableTabsScroll","quiet","selectionIndicatorStyle","shouldAnimate","selected","_tabs","resizeController","g","updateSelectionIndicator","rovingTabindexController","E","disabled","selectTarget","tabs","tabList","onTabsScroll","dispatchEvent","Event","bubbles","composed","onClick","parentElement","onKeyDown","updateCheckedState","setAttribute","Promise","all","updateComplete","document","fonts","ready","resolve","width","height","getBoundingClientRect","offsetLeft","offsetTop","S","root","rootMargin","threshold","styles","T","C","focusElement","scrollTabs","scrollBy","left","top","behavior","scrollState","scrollLeft","clientWidth","scrollWidth","Math","abs","ceil","canScrollLeft","dir","canScrollRight","getUpdateComplete","children","map","scrollIntoView","updated","has","scrollToSelection","managePanels","assignedElements","id","querySelector","render","f","v","scroll","onSlotChange","willUpdate","get","getAttribute","cancelable","slotEl","filter","connectedCallback","disconnectedCallback","type","Boolean","prototype","reflect","attribute","d","vertical","hasIcon","slotContentIsPresent","hasLabel","slotHasContent","firstUpdated","hasAttribute","instanceCount","String","slot","styles$1","global","defaultFormStyles","css","ArchJobParametersForm","ArchJsonSchemaForm","__decorate","customElement","Bootstrap4Alerts","ArchJobButton","LitElement","buttonClass","buttonHTML","html","jobName","collectionName","jobStateTuples","renderButton","_renderButton","text","loading","className","undefined","ProcessingState","SUBMITTED","QUEUED","RUNNING","FINISHED","FAILED","CANCELLED","jobParameters","entries","k","shadowRootOptions","delegatesFocus","property","ArchJobCard","ArchJobCard_1","extendParamsSchemaWithDefaultOptions","schema","DefaultParametersSchema","assign","properties","sample","title","default","description","historicalDatasetsUrl","collectionId","job","Paths","collection","encodeURIComponent","name","renderHistory","jobIdStatesMap","stateTuples","finishedStates","state","hasMulti","dataset","isoStringToDateString","renderConfigureJob","parameters_schema","jobButton","emitGenerateDataset","stopPropagation","CustomEvent","detail","archJobCard","jobId","_a","info_url","code_url","bind","required","Number","query","Styles","ArchJobCategorySection","categoryDescription","jobs","jobsCat","sortedCatNames","catNameSortedJobNamesMap","Collection","Network","Text","ArchGenerateDatasetForm","collections","collectionIdNameMap","Map","availableJobs","sourceCollectionId","collectionJobIdStatesMapMap","activePollCollectionId","initAvailableJobs","initCollections","generateDatasetHandler","sourceCollectionChangeHandler","DefaultSelectElementPromptText","categoryId","categoryName","categoryImage","setCollectionIdUrlParam","url","URL","location","href","searchParams","set","UrlCollectionParamName","toString","history","replaceState","parseInt","setSourceCollectionId","fetchJobIdStatesMap","maybeStartPolling","response","ArchAPI","items","initialCollectionId","URLSearchParams","search","isNaN","fetch","json","sort","jobCat","sortedJobNames","startTimeStateTuples","values","isActiveProcessingState","setTimeout","pollDatasetStates","activeStatusPollPeriodSeconds","successModalContent","createElement","datasets","textContent","datasetStates","syntheticStateArr","Date","toISOString","unshift","run","shift","ArchGlobalModal","showError","showNotification","queryAll"],"mappings":"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"}